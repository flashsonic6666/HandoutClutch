<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
 
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

</head>

<style>

body {

	background-image: url('../starBackgroundBlackVeryVeryTransparent.png');
	background-attachment: fixed;
	color: #333;
}
div.a {
  font-size: 20px;
}
.left {
  display: block;
}
#ptable{
    position:absolute;
  top:0;
  right:0; 
	border: 1px solid black;
	width=50%;
}
form { 
	margin: 0 auto; 
	width=50%;
	text-align: left;
}

</style>

<body>
	
	 
	<p style="text-align:center; font-family:Arial; color:blue; font-size:30px;"> results! </p>
	
	<a href="https://flashsonic6666.github.io/HandoutClutch/4b7f06ba46b04a1124e84a74e97ba31ccce229b5">Back to main site</a>
	
	<!--"Clicks"-->		
	<script type="text/javascript">
	
	var ct=localStorage.getItem("currentTest");
	var ts=JSON.parse(localStorage.getItem("testStatus"));
	var tt=JSON.parse(localStorage.getItem("testTime"));
		
	if(parseInt(ts[parseInt(ct)])==0){
	   ts[parseInt(ct)]=1;
	   localStorage.setItem("testStatus", JSON.stringify(ts));
	}
	
	//Timer	
	// Update the count down every 1 second		
	var x = setInterval(function() {
	
	var distance = tt[parseInt(ct)];
		
	  // Get today's date and time
	  var now = new Date().getTime();

	  // Find the distance between now and the count down date
	  

	  // Time calculations for days, hours, minutes and seconds
	  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
	  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
	  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
	  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

	  // Display the result in the element with id="demo"
	  document.getElementById("demo").innerHTML = "Time Remaining: " + hours + "h "
	  + minutes + "m " + seconds + "s ";

	  // If the count down is finished, write some text
	  if (distance < 0) {
	    clearInterval(x);
	    document.getElementById("demo").innerHTML = "Time Remaining: EXPIRED";
	    submit1();
	  }
		
	  tt[parseInt(ct)]-=1000;
	  localStorage.setItem("testTime", JSON.stringify(tt));
	}, 1000);
					    
	function submit1() {
		
		var testStatus=JSON.parse(localStorage.getItem("testStatus"));
		
		if(parseInt(testStatus)!=2){
			var currentTest=localStorage.getItem("currentTest");

			var testAnswers=JSON.parse(localStorage.getItem("testAnswers"));
			var testCorrectness=JSON.parse(localStorage.getItem("testCorrectness"));
			

			for(var i=0; i< testCorrectness[parseInt(currentTest)].length; i++){
				var answer = document.getElementById("ans" + (i+1)).value;
				if(testAnswers[parseInt(currentTest)][i]==answer.toUpperCase()){
				  var res = testCorrectness[parseInt(currentTest)];
				  var start = res.substring(0, i);
				  var end = res.substring(i+1);
				  testCorrectness[parseInt(currentTest)]=start+"2"+end;
				}
				else if(answer.length==0){
				  var res = testCorrectness[parseInt(currentTest)];
				  var start = res.substring(0, i);
				  var end = res.substring(i+1);
				  testCorrectness[parseInt(currentTest)]=start+"1"+end;
				}
			}

			testStatus[parseInt(currentTest)]="2";

			localStorage.setItem("testCorrectness", JSON.stringify(testCorrectness));
			localStorage.setItem("testStatus", JSON.stringify(testStatus));
		}
		
		window.location.href = "https://flashsonic6666.github.io/HandoutClutch/4b7f06ba46b04a1124e84a74e97ba31ccce229b5/practiceAMC12/testSubmitted";
          }
		
        </script>
</body>
</html>
